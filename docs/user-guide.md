# Whisper 轉譯器 - 使用者指南

## 目錄

1. [快速開始](#快速開始)
2. [功能介紹](#功能介紹)
3. [詳細操作說明](#詳細操作說明)
4. [快捷鍵參考](#快捷鍵參考)
5. [常見問題](#常見問題)
6. [小技巧](#小技巧)
7. [更新日誌](#更新日誌)

## 快速開始

### 第一次使用

1. **啟動應用程式**
   ```bash
   # Windows 使用者
   雙擊 start-server.bat
   
   # Mac/Linux 使用者
   python3 -m http.server 8000
   ```

2. **開啟瀏覽器**
   - 訪問 `http://localhost:8000`
   - 建議使用 Chrome 或 Firefox

3. **設定 API Key**
   - 點擊右上角設定按鈕 ⚙️
   - 輸入 OpenAI API Key
   - 點擊「儲存設定」

4. **上傳音訊**
   - 點擊「選擇音訊檔案」
   - 選擇要轉譯的音訊檔案（最大 25MB）

5. **開始轉譯**
   - 點擊「開始轉譯」按鈕
   - 等待轉譯完成

## 功能介紹

### 🎵 音訊播放器

播放器提供完整的音訊控制功能：

- **基本控制**
  - 播放/暫停（空白鍵）
  - 拖動進度條定位
  - 音量調整

- **進階功能**
  - 播放速度調整（0.5x - 2.0x）
  - 顯示當前時間/總時長
  - 波形視覺化（開發中）

### 📝 轉譯功能

支援二種轉譯方式，滿足不同需求：

#### ☁️ 雲端 API 轉譯
使用 OpenAI Whisper API 進行高品質語音轉文字：

- **優點**
  - 轉譯速度快
  - 精度最高
  - 支援所有格式
  - 自動偵測語言

- **轉譯選項**
  - 自動分段
  - 時間戳記錄
  - 標點符號優化
  - 簡繁自動轉換

#### 🖥️ 本地 WASM 轉譯
使用 WebAssembly 技術在瀏覽器中直接處理：

- **優點**
  - 完全離線，100% 隱私
  - 無需上傳檔案
  - 免費使用
  - 無檔案大小限制

- **模型選擇**
  - **Tiny**：快速預覽（39MB）
  - **Base**：平衡選擇（74MB）
  - **Small**：最佳品質（244MB）

#### 📦 大檔案處理
當檔案超過 25MB 時，提供智能處理方案：

- **智能分割**
  - 保持最佳品質
  - 基於靜音檢測分割
  - 多次 API 調用

- **智能壓縮**
  - 單次處理
  - 略微影響品質
  - 成本最低

- **混合模式**
  - 先壓縮後分割
  - 平衡品質與成本

### ✏️ 編輯器

強大的轉譯文字編輯功能：

- **即時編輯**
  - 點擊任何段落直接編輯
  - 自動儲存變更
  - 編輯標記顯示

- **尋找和取代**
  - 全文搜尋
  - 批次取代
  - 高亮顯示匹配結果

- **段落管理**
  - 分割長段落
  - 合併相鄰段落
  - 恢復原始文字

- **標點符號切換**
  - 點擊「。」按鈕即時切換
  - 自動簡體轉繁體
  - 保留編輯內容不受影響

- **批次編輯模式**
  - 多選段落操作
  - 批次刪除、合併、分割
  - 批次尋找取代（支援正則）
  - Shift+點擊範圍選擇
  - Ctrl/Cmd+點擊多選

- **效能優化**
  - 虛擬滾動（100+段落自動啟用）
  - DOM 批次更新
  - 搜尋防抖處理

### 💾 專案管理

智慧的專案儲存和管理：

- **自動儲存**
  - 編輯後 3 秒自動儲存
  - 防止資料遺失

- **專案列表**
  - 查看所有轉譯專案
  - 快速載入歷史專案
  - 刪除不需要的專案

### 📤 匯出功能

多種格式匯出選項：

1. **純文字 (TXT)**
   - 只包含文字內容
   - 適合文件編輯

2. **含時間戳文字**
   - 每段前顯示時間
   - 方便對照原音訊

3. **SRT 字幕**
   - 標準字幕格式
   - 可用於影片軟體

4. **WebVTT 字幕**
   - 網頁字幕格式
   - HTML5 影片支援

## 詳細操作說明

### 設定 OpenAI API Key

1. **取得 API Key**
   - 訪問 [OpenAI Platform](https://platform.openai.com)
   - 登入或註冊帳號
   - 前往 API Keys 頁面
   - 建立新的 API Key

2. **設定 Key**
   - 在應用程式中點擊設定 ⚙️
   - 貼上 API Key
   - 點擊儲存

3. **安全提醒**
   - API Key 只儲存在本地瀏覽器
   - 不要分享您的 API Key
   - 定期更新 Key 以確保安全

### 音訊檔案準備

**支援格式**：
- MP3、WAV、M4A、FLAC
- OGG、WEBM、MP4（音訊）

**最佳實踐**：
- 檔案大小：小於 25MB
- 音質：清晰、低噪音
- 語言：單一語言為佳

**大檔案處理**：
1. 使用音訊編輯軟體裁切
2. 降低位元率壓縮
3. 分段處理後合併

### 編輯技巧

#### 高效編輯流程

1. **第一遍：快速瀏覽**
   - 播放音訊對照文字
   - 標記明顯錯誤

2. **第二遍：細節修正**
   - 修正專有名詞
   - 調整標點符號
   - 分割過長段落

3. **第三遍：格式優化**
   - 合併零碎段落
   - 統一格式風格
   - 最終檢查

#### 使用尋找和取代

**情境一：統一用詞**
```
尋找：台灣
取代：臺灣
```

**情境二：修正常見錯誤**
```
尋找：在說
取代：再說
```

**情境三：格式調整**
```
尋找：。。。
取代：⋯⋯
```

#### 段落操作最佳實踐

**何時分割段落**：
- 說話者改變時
- 主題轉換時
- 段落過長（超過 3-4 句）

**何時合併段落**：
- 同一句被切斷
- 語意不完整
- 過短的段落

### 匯出和分享

1. **選擇適當格式**
   - 文件使用：純文字
   - 影片字幕：SRT
   - 網頁展示：WebVTT
   - 校對參考：含時間戳

2. **檔案命名建議**
   - 包含日期：`2024-01-20_會議記錄.txt`
   - 標註版本：`訪談_v2_已校對.srt`
   - 說明用途：`產品介紹_字幕版.vtt`

## 快捷鍵參考

### 全域快捷鍵

| 功能 | Windows/Linux | Mac |
|------|---------------|-----|
| 搜尋 | Ctrl+F | Cmd+F |
| 尋找和取代 | Ctrl+H | Cmd+H |
| 儲存 | Ctrl+S | Cmd+S |
| 匯出 | Ctrl+E | Cmd+E |
| 撤銷 | Ctrl+Z | Cmd+Z |
| 重做 | Ctrl+Y | Cmd+Y |
| 全選（批次模式）| Ctrl+A | Cmd+A |

### 播放器快捷鍵

| 功能 | 按鍵 |
|------|------|
| 播放/暫停 | 空白鍵 |
| 快進 10 秒 | → |
| 快退 10 秒 | ← |
| 增加音量 | ↑ |
| 減少音量 | ↓ |

### 編輯器快捷鍵

| 功能 | 按鍵 |
|------|------|
| 下一個搜尋結果 | F3 |
| 上一個搜尋結果 | Shift+F3 |
| 關閉搜尋 | Esc |
| 確認輸入 | Enter |
| 退出批次模式 | Esc |
| 批次刪除 | Delete |

## 常見問題

### 轉譯相關

**Q: 轉譯時間需要多久？**  
A: 通常是音訊長度的 10-30%。例如 10 分鐘音訊約需 1-3 分鐘。

**Q: 為什麼轉譯結果有錯誤？**  
A: 可能原因：
- 音質不佳或背景噪音
- 專業術語或方言
- 多人同時說話

**Q: 支援哪些語言？**  
A: Whisper 支援 90+ 種語言，包括中文、英文、日文等。

### 技術問題

**Q: 顯示 CORS 錯誤**  
A: 必須使用本地伺服器，不能直接開啟 HTML 檔案。

**Q: API Key 無效**  
A: 檢查：
- Key 是否正確複製
- 是否有額度
- 是否過期

**Q: 檔案上傳失敗**  
A: 確認：
- 檔案小於 25MB
- 格式是否支援
- 網路連線正常

### 使用問題

**Q: 如何處理長音訊？**  
A: 建議：
1. 分段處理（每段 10-15 分鐘）
2. 使用音訊編輯軟體切割
3. 轉譯後再合併文字

**Q: 專案儲存在哪裡？**  
A: 儲存在瀏覽器的 Local Storage，清除瀏覽器資料會遺失。

**Q: 可以離線使用嗎？**  
A: 使用本地 WASM 轉譯可以完全離線使用。雲端 API 轉譯需要網路連線。

**Q: 什麼是本地 WASM 轉譯？**  
A: WASM（WebAssembly）技術讓您可以在瀏覽器中直接進行語音轉譯，無需上傳檔案到雲端。完全離線運作，保護隱私且免費。

**Q: WASM 模型有什麼差異？**  
A: 
- **Tiny**：最快但精度較低，適合快速預覽（39MB）
- **Base**：速度與品質平衡，推薦使用（74MB）
- **Small**：最高品質但速度較慢（244MB）

**Q: 什麼是批次編輯模式？**  
A: 批次編輯模式允許您同時選擇多個段落進行操作，如批次刪除、合併、尋找取代等。支援 Shift 範圍選擇和 Ctrl/Cmd 多選。

**Q: 標點符號切換有什麼用？**  
A: 可以即時切換顯示或隱藏標點符號。系統會自動進行簡繁轉換，並保存兩個版本。已編輯的段落不受切換影響。

## 小技巧

### 🎯 提高轉譯準確度

1. **優化音訊品質**
   - 使用降噪軟體處理
   - 確保音量適中
   - 避免背景音樂

2. **選擇合適場景**
   - 安靜環境錄音
   - 使用好的麥克風
   - 保持適當距離

3. **後製處理**
   - 裁切靜音部分
   - 分離多軌音訊
   - 標準化音量

### 💡 提高工作效率

1. **善用快捷鍵**
   - 記住常用快捷鍵
   - 自訂工作流程

2. **批次處理**
   - 使用尋找取代
   - 統一格式規範

3. **建立模板**
   - 常用詞彙表
   - 格式範本

### 🔧 進階使用

1. **整合工作流程**
   - 配合字幕軟體
   - 匯入影片編輯器
   - 發布到平台

2. **團隊協作**
   - 匯出分享檔案
   - 統一編輯規範
   - 版本控制

## 更新日誌

### v1.1.0 (2025-01)
- ✅ WASM 本地轉譯功能
  - 三種模型選擇（tiny/base/small）
  - 完全離線處理
  - 模型自動快取
- ✅ 批次編輯模式
  - 多選段落操作
  - 批次處理功能
  - 快捷鍵支援
- ✅ 標點符號切換
  - 即時顯示切換
  - 自動簡繁轉換
- ✅ 大檔案處理優化
  - 智能分割/壓縮
  - 進度管理器
  - 取消操作支援
- ✅ 效能優化
  - 虛擬滾動實現
  - DOM 批次更新
  - 程式碼品質改善

### v1.0.0 (2024-01)
- ✅ 基本轉譯功能
- ✅ 文字編輯器
- ✅ 尋找和取代
- ✅ 段落分割/合併
- ✅ 多格式匯出
- ✅ 專案管理
- ✅ 通知系統優化

### 計劃功能
- 📋 批次檔案處理
- 🌐 雲端同步
- 👥 協作功能
- 🎨 自訂主題
- 📊 使用統計

## 聯絡資訊

如有問題或建議，請透過以下方式聯絡：

- 問題回報：[GitHub Issues]
- 功能建議：[GitHub Discussions]
- 技術支援：[Documentation]

---

*本指南最後更新時間：2025 年 1 月*