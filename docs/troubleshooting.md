# 疑難排解指南

## 常見問題與解決方案

### 🔧 安裝和啟動問題

#### 問題：無法啟動伺服器

**症狀**：
- 雙擊 `start-server.bat` 沒有反應
- 終端機顯示錯誤訊息

**解決方案**：

1. **檢查 Python 安裝**
   ```bash
   python --version
   # 或
   python3 --version
   ```
   如果沒有安裝，請從 [python.org](https://python.org) 下載安裝

2. **使用替代命令**
   ```bash
   # Windows
   py -m http.server 8000
   
   # Mac/Linux  
   python3 -m http.server 8000
   ```

3. **檢查端口佔用**
   ```bash
   # Windows
   netstat -ano | findstr :8000
   
   # Mac/Linux
   lsof -i :8000
   ```
   如果 8000 端口被佔用，改用其他端口：
   ```bash
   python3 -m http.server 8001
   ```

#### 問題：瀏覽器無法連線

**症狀**：
- 顯示「無法連線」
- 頁面載入失敗

**解決方案**：

1. **確認伺服器運行中**
   - 檢查命令列視窗是否還開著
   - 應該看到 "Serving HTTP on :: port 8000"

2. **檢查網址**
   - 正確：`http://localhost:8000`
   - 錯誤：`https://localhost:8000`（注意是 http 不是 https）

3. **防火牆設定**
   - Windows：允許 Python 通過防火牆
   - 防毒軟體：加入例外清單

### 🔑 API Key 問題

#### 問題：API Key 無效

**錯誤訊息**：
```
Error 401: Invalid API Key
```

**解決方案**：

1. **檢查 Key 格式**
   - 必須以 `sk-` 開頭
   - 完整複製，不要有空格

2. **確認 Key 有效**
   - 登入 [OpenAI Platform](https://platform.openai.com)
   - 檢查 API Keys 頁面
   - 必要時建立新 Key

3. **檢查付款狀態**
   - 確認信用卡有效
   - 檢查是否有未付帳單

#### 問題：超出配額

**錯誤訊息**：
```
Error 429: Rate limit exceeded
```

**解決方案**：

1. **等待重試**
   - 通常等待 1-2 分鐘
   - 避免連續大量請求

2. **檢查用量**
   - 查看 [Usage 頁面](https://platform.openai.com/usage)
   - 確認未超出月限額

3. **升級方案**
   - 考慮提高用量限制
   - 聯絡 OpenAI 支援

### 🎵 音訊檔案問題

#### 問題：檔案上傳失敗

**症狀**：
- 選擇檔案後無反應
- 顯示檔案格式錯誤

**解決方案**：

1. **檢查檔案格式**
   - 支援：MP3, WAV, M4A, FLAC, OGG, WEBM
   - 不支援：視訊檔案需先轉換

2. **檢查檔案大小**
   - 限制：25MB
   - 壓縮方法：
     ```bash
     # 使用 ffmpeg 壓縮
     ffmpeg -i input.mp3 -b:a 128k output.mp3
     ```

3. **檔案損壞**
   - 嘗試用媒體播放器開啟
   - 使用音訊編輯軟體修復

#### 問題：音訊播放異常

**症狀**：
- 無法播放
- 聲音斷斷續續

**解決方案**：

1. **瀏覽器相容性**
   - 更新瀏覽器到最新版本
   - 嘗試不同瀏覽器

2. **編碼問題**
   - 轉換為標準格式：
     ```bash
     ffmpeg -i input.wav -c:a mp3 output.mp3
     ```

3. **清除快取**
   - `Ctrl+Shift+R` 強制重新載入
   - 清除瀏覽器快取

### 📝 轉譯問題

#### 問題：轉譯結果不準確

**症狀**：
- 錯字很多
- 語言識別錯誤

**解決方案**：

1. **改善音質**
   - 使用降噪軟體
   - 確保音量適中
   - 減少背景音

2. **語言設定**
   - 目前預設中文
   - 未來版本將支援語言選擇

3. **分段處理**
   - 長音訊分成小段
   - 每段 10-15 分鐘為佳

#### 問題：轉譯速度很慢

**症狀**：
- 等待時間過長
- 進度似乎卡住

**解決方案**：

1. **檢查網路**
   - 確保網路穩定
   - 避免使用 VPN

2. **檔案優化**
   - 降低音訊品質
   - 裁切不需要部分

3. **分批處理**
   - 大檔案分段上傳
   - 避免同時多個轉譯

### 💻 瀏覽器問題

#### 問題：CORS 錯誤

**錯誤訊息**：
```
Access to fetch at 'https://api.openai.com/...' from origin 'null' has been blocked by CORS policy
```

**解決方案**：

1. **必須使用本地伺服器**
   - 不能直接開啟 HTML 檔案
   - 必須透過 http://localhost

2. **檢查啟動方式**
   - 正確：先啟動伺服器，再開瀏覽器
   - 錯誤：直接雙擊 index.html

#### 問題：Local Storage 已滿

**症狀**：
- 無法儲存專案
- 設定無法保存

**解決方案**：

1. **清理舊專案**
   - 開啟「最近專案」
   - 刪除不需要的專案

2. **匯出後刪除**
   - 先匯出重要專案
   - 再從系統中刪除

3. **清除瀏覽器資料**
   - 設定 > 隱私權 > 清除瀏覽資料
   - 只選擇「網站資料」

### 🔍 編輯器問題

#### 問題：無法編輯文字

**症狀**：
- 點擊段落沒反應
- 文字無法修改

**解決方案**：

1. **檢查編輯模式**
   - 確認已完成轉譯
   - 不是在播放狀態

2. **瀏覽器問題**
   - 嘗試重新整理頁面
   - 使用不同瀏覽器

3. **JavaScript 錯誤**
   - 按 F12 開啟控制台
   - 查看是否有錯誤訊息

#### 問題：自動儲存失敗

**症狀**：
- 編輯內容遺失
- 顯示儲存錯誤

**解決方案**：

1. **手動儲存**
   - 定期按 `Ctrl+S`
   - 重要編輯立即儲存

2. **檢查儲存空間**
   - Local Storage 可能已滿
   - 清理不需要的資料

3. **匯出備份**
   - 定期匯出檔案
   - 保存在本地硬碟

### 🚨 錯誤代碼對照表

| 錯誤代碼 | 含義 | 解決方法 |
|---------|------|---------|
| 400 | 請求錯誤 | 檢查檔案格式和大小 |
| 401 | 未授權 | 檢查 API Key |
| 402 | 需要付款 | 檢查帳戶餘額 |
| 413 | 檔案太大 | 壓縮或分割檔案 |
| 429 | 超出限制 | 稍後再試 |
| 500 | 伺服器錯誤 | 等待並重試 |
| 503 | 服務不可用 | 檢查 OpenAI 狀態 |

### 💡 預防措施

1. **定期備份**
   - 匯出重要轉譯結果
   - 保存原始音訊檔案

2. **分段作業**
   - 長時間錄音分段處理
   - 避免單檔過大

3. **測試環境**
   - 先用短音訊測試
   - 確認設定正確

4. **監控用量**
   - 定期檢查 API 使用量
   - 設定用量警告

### 🆘 獲得更多協助

如果以上方法都無法解決問題：

1. **收集資訊**
   - 錯誤訊息截圖
   - 瀏覽器控制台日誌
   - 操作步驟描述

2. **尋求協助**
   - 查看 [GitHub Issues]
   - 提交問題報告
   - 聯絡技術支援

3. **社群資源**
   - 加入使用者群組
   - 搜尋類似問題
   - 分享解決經驗

---

記住：大部分問題都有解決方案，保持耐心，按步驟排查！