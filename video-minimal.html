<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>極簡視訊測試</title>
</head>
<body>
    <h1>極簡視訊測試</h1>
    
    <div style="margin: 20px;">
        <input type="file" id="fileInput" accept="video/*">
        <button onclick="document.getElementById('fileInput').click()">選擇視訊</button>
    </div>
    
    <video id="video" controls width="600" style="margin: 20px;"></video>
    
    <div id="log" style="margin: 20px; padding: 10px; background: #f0f0f0; font-family: monospace;"></div>
    
    <script>
        const log = (msg) => {
            document.getElementById('log').innerHTML += `${new Date().toLocaleTimeString()}: ${msg}<br>`;
            console.log(msg);
        };
        
        log('頁面載入完成');
        
        const fileInput = document.getElementById('fileInput');
        const video = document.getElementById('video');
        
        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                log(`選擇檔案: ${file.name} (${file.size} bytes)`);
                const url = URL.createObjectURL(file);
                video.src = url;
                log('設定視訊 URL');
            }
        });
        
        video.addEventListener('loadedmetadata', () => {
            log(`視訊載入: ${video.videoWidth}x${video.videoHeight}, ${video.duration}秒`);
        });
        
        video.addEventListener('error', (e) => {
            log(`錯誤: ${e.message || '未知錯誤'}`);
        });
    </script>
</body>
</html>