<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Whisper è½æ‰“å·¥å…· - åŸºæ–¼ OpenAI Whisper API çš„å°ˆæ¥­éŸ³è¨Šè½‰è­¯å·¥å…·ï¼Œæ”¯æ´å³æ™‚ç·¨è¼¯ã€æ™‚é–“è»¸åŒæ­¥èˆ‡å¤šæ ¼å¼åŒ¯å‡º">
    <meta name="keywords" content="whisper, èªéŸ³è½‰æ–‡å­—, è½æ‰“å·¥å…·, éŸ³è¨Šè½‰è­¯, OpenAI">
    <meta name="author" content="Whisper Transcriber">
    
    <title>Whisper è½æ‰“å·¥å…· - å°ˆæ¥­éŸ³è¨Šè½‰è­¯ç·¨è¼¯å™¨</title>
    
    <!-- DNS é å–å’Œé é€£æ¥ -->
    <link rel="dns-prefetch" href="https://api.openai.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://api.openai.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    
    <!-- é—œéµ CSS å…§è¯ -->
    <style>
        /* é—œéµæ¨£å¼ - é˜²æ­¢é é¢é–ƒçˆ */
        :root {
            --primary-color: #0066cc;
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --text-primary: #333333;
            --text-secondary: #666666;
            --border-color: #e0e0e0;
        }
        
        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --border-color: #404040;
        }
        
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: background 0.3s ease;
        }
        
        #app {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .skeleton-loader {
            background: var(--bg-secondary);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }
        
        .skeleton-loader::after {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: skeleton-loading 1.5s infinite;
        }
        
        @keyframes skeleton-loading {
            0% { left: -100%; }
            100% { left: 100%; }
        }
    </style>
    
    <!-- é è¼‰å…¥é—œéµè³‡æº -->
    <link rel="preload" href="css/shared.css" as="style">
    <link rel="preload" href="css/style.css" as="style">
    <link rel="preload" href="css/splash.css" as="style">
    <link rel="modulepreload" href="js/app-optimized.js">
    <link rel="modulepreload" href="js/core-loader.js">
    
    <!-- è¼‰å…¥é—œéµæ¨£å¼ -->
    <link rel="stylesheet" href="css/shared.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/splash.css">
    <link rel="stylesheet" href="css/pwa.css">
    
    <!-- å»¶é²è¼‰å…¥éé—œéµæ¨£å¼ -->
    <link rel="preload" href="css/preprocessing.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="css/progress.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="css/onboarding.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="css/preprocessing.css">
        <link rel="stylesheet" href="css/progress.css">
        <link rel="stylesheet" href="css/onboarding.css">
    </noscript>
    
    <!-- Open Graph meta tags -->
    <meta property="og:title" content="Whisper è½æ‰“å·¥å…·">
    <meta property="og:description" content="å°ˆæ¥­çš„éŸ³è¨Šè½‰è­¯èˆ‡ç·¨è¼¯å·¥å…·ï¼Œæ”¯æ´æœ¬åœ° WASM å’Œé›²ç«¯ API">
    <meta property="og:type" content="website">
    <meta property="og:image" content="assets/og-image.png">
    
    <!-- PWA æ”¯æ´ -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0066cc">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/icons/favicon.svg">
    <link rel="alternate icon" href="assets/icons/favicon.ico">
</head>
<body>
    <!-- å°èˆªåˆ— -->
    <nav class="app-navigation">
        <div class="nav-container">
            <div class="nav-brand">
                <h1 class="nav-title">Whisper å·¥å…·</h1>
            </div>
            <div class="nav-links">
                <a href="index.html" class="nav-link active">
                    <span class="nav-icon">ğŸµ</span>
                    <span>éŸ³è¨Šå·¥å…·</span>
                </a>
                <a href="batch.html" class="nav-link">
                    <span class="nav-icon">ğŸ“</span>
                    <span>æ‰¹æ¬¡è½‰è­¯</span>
                </a>
                <a href="video.html" class="nav-link">
                    <span class="nav-icon">ğŸ¬</span>
                    <span>è¦–è¨Šå·¥å…·</span>
                </a>
            </div>
        </div>
    </nav>
    
    <div id="app">
        <!-- Header -->
        <header class="app-header">
            <div class="container">
                <h1 class="app-title">Whisper è½æ‰“å·¥å…·</h1>
                <nav class="app-nav">
                    <button class="nav-btn skeleton-loader" id="recentProjectsBtn" title="æœ€è¿‘å°ˆæ¡ˆ" style="width: 40px; height: 40px;">
                        <span class="icon" style="opacity: 0">ğŸ“</span>
                    </button>
                    <button class="nav-btn skeleton-loader" id="themeToggleBtn" title="åˆ‡æ›æ·±è‰²/æ·ºè‰²æ¨¡å¼" style="width: 40px; height: 40px;">
                        <span class="icon icon-light" style="opacity: 0">ğŸŒ</span>
                        <span class="icon icon-dark" style="opacity: 0">ğŸŒ™</span>
                    </button>
                    <button class="nav-btn skeleton-loader" id="settingsBtn" title="è¨­å®š" style="width: 40px; height: 40px;">
                        <span class="icon" style="opacity: 0">âš™ï¸</span>
                    </button>
                    <button class="nav-btn skeleton-loader" id="helpBtn" title="ä½¿ç”¨èªªæ˜" style="width: 40px; height: 40px;">
                        <span class="icon" style="opacity: 0">â“</span>
                    </button>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <div class="container">
                <!-- Audio Player Section -->
                <section class="player-section" id="playerSection">
                    <div class="upload-area skeleton-loader" id="uploadArea" style="min-height: 200px;">
                        <div class="upload-content" style="opacity: 0">
                            <span class="upload-icon">ğŸµ</span>
                            <h2>ä¸Šå‚³éŸ³è¨Šæª”æ¡ˆ</h2>
                            <p>æ‹–æ”¾æª”æ¡ˆåˆ°æ­¤è™•ï¼Œæˆ–é»æ“Šé¸æ“‡æª”æ¡ˆ</p>
                            <p class="upload-hint">æ”¯æ´æ ¼å¼ï¼šMP3, WAV, M4A, FLAC, OGG</p>
                            <input type="file" id="audioInput" accept="audio/*" hidden>
                            <button class="btn btn-primary" id="selectFileBtn">é¸æ“‡æª”æ¡ˆ</button>
                        </div>
                    </div>
                    
                    <div class="player-controls" id="playerControls" style="display: none;">
                        <!-- æ’­æ”¾å™¨æ§åˆ¶é …å°‡å‹•æ…‹è¼‰å…¥ -->
                    </div>
                </section>

                <!-- Transcription Controls -->
                <section class="transcription-section" id="transcriptionSection" style="display: none;">
                    <!-- è½‰è­¯æ§åˆ¶é …å°‡å‹•æ…‹è¼‰å…¥ -->
                </section>

                <!-- Editor Section -->
                <section class="editor-section" id="editorSection" style="display: none;">
                    <!-- ç·¨è¼¯å™¨å°‡å‹•æ…‹è¼‰å…¥ -->
                </section>
            </div>
        </main>
    </div>
    
    <!-- æ•ˆèƒ½ç›£æ§ -->
    <script>
        // è¨˜éŒ„æ•ˆèƒ½æŒ‡æ¨™
        window.addEventListener('load', function() {
            if ('performance' in window) {
                const perfData = performance.getEntriesByType('navigation')[0];
                console.log('é é¢è¼‰å…¥æ•ˆèƒ½:', {
                    DNSæŸ¥è©¢: (perfData.domainLookupEnd - perfData.domainLookupStart).toFixed(2) + 'ms',
                    TCPé€£æ¥: (perfData.connectEnd - perfData.connectStart).toFixed(2) + 'ms',
                    è«‹æ±‚éŸ¿æ‡‰: (perfData.responseEnd - perfData.requestStart).toFixed(2) + 'ms',
                    DOMè§£æ: (perfData.domInteractive - perfData.domLoading).toFixed(2) + 'ms',
                    DOMå®Œæˆ: (perfData.domComplete - perfData.domLoading).toFixed(2) + 'ms',
                    ç¸½è¼‰å…¥æ™‚é–“: (perfData.loadEventEnd - perfData.fetchStart).toFixed(2) + 'ms'
                });
            }
        });
    </script>
    
    <!-- PWA ç®¡ç†å™¨ -->
    <script type="module" src="js/pwa-manager.js"></script>
    
    <!-- è¼‰å…¥å„ªåŒ–çš„ä¸»ç¨‹å¼ -->
    <script type="module" src="js/app-optimized.js"></script>
</body>
</html>